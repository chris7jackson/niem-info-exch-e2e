# NIEM GraphRAG Dynamic Entity Resolution Configuration
# Copy this file to .env and update with your actual values
#
# ⚠️  SECURITY WARNING ⚠️
# - DO NOT use the default passwords shown in this file for production!
# - Generate strong, random passwords for all services
# - NEVER commit your .env file to version control
# - Rotate all credentials regularly
#
# To generate a strong password, use: openssl rand -base64 32

# =============================================================================
# MinIO/S3 Storage Configuration
# =============================================================================
MINIO_ROOT_USER=minio
# ⚠️  CHANGE THIS: Replace 'minio123' with a strong password
MINIO_ROOT_PASSWORD=minio123
MINIO_ENDPOINT=minio:9000
MINIO_SECURE=false

# Alternative MinIO credentials (if using different keys for API access)
# MINIO_ACCESS_KEY=minioadmin
# MINIO_SECRET_KEY=minioadmin

# =============================================================================
# Neo4j Database Configuration
# =============================================================================
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
# ⚠️  CHANGE THIS: Replace 'password' with a strong password
NEO4J_PASSWORD=password

# =============================================================================
# API Configuration
# =============================================================================
# ⚠️  CHANGE THIS: Replace 'devtoken' with a strong random token
# Generate with: openssl rand -hex 32
DEV_TOKEN=devtoken
API_HOST=0.0.0.0
API_PORT=8000
APP_VERSION=1.0.0
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# UI Configuration
# =============================================================================
NEXT_PUBLIC_API_URL=http://localhost:8000

# =============================================================================
# Senzing Entity Resolution Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# How to Set Up Your Senzing License (Choose ONE method)
# -----------------------------------------------------------------------------
#
# ⚠️  RECOMMENDED METHOD: Use g2license Folder (Automatic Detection)
# --------------------------------------------------------------------
# This is the easiest method - the system auto-detects and decodes your license!
#
# 1. Contact support@senzing.com to obtain your license
# 2. You'll receive a zip file (e.g., g2license_20251201-120000.zip)
# 3. Unzip it into the api/ directory:
#    unzip g2license_20251201-120000.zip -d api/
# 4. Start the system - license auto-decodes on startup!
#    docker compose up -d
# 5. Verify with: docker compose logs api | grep -i senzing
#
# That's it! No need to set SENZING_LICENSE_BASE64 or copy files manually.
#
# Alternative Method: Environment Variable (for Docker services)
# ----------------------------------------------------------------
# If you need to set the license via environment variable for the
# senzing-grpc and senzing-init services, uncomment below:
# SENZING_LICENSE_BASE64=<your-base64-encoded-license-string>
#
# NOTE: The API service uses the g2license_* folder method above,
# not this environment variable.
# -----------------------------------------------------------------------------

# Senzing License Path (where decoded license will be stored)
# This is set automatically - no need to change
SENZING_LICENSE_PATH=/app/secrets/senzing/g2.lic

# Senzing Data Directory (where Senzing stores its data)
SENZING_DATA_DIR=/data/senzing

# Senzing gRPC Server URL (for Docker Compose deployment)
SENZING_GRPC_URL=senzing-grpc:8261

# Senzing Configuration Path (where g2.ini is located)
SENZING_CONFIG_PATH=/app/config/g2.ini

# Senzing Resource Path (optional - defaults to SENZING_DATA_DIR/resources)
# SENZING_RESOURCE_PATH=/opt/senzing/g2/resources

# -----------------------------------------------------------------------------
# Database Configuration for Senzing
# -----------------------------------------------------------------------------

# PostgreSQL Password for Senzing (used by docker-compose)
# ⚠️  CHANGE THIS: Replace with a strong password for production
# This is used by the senzing-postgres service and Senzing engine
SENZING_DB_PASSWORD=changeme

# Senzing Hybrid Mode Password (optional - only if using HYBRID mode)
# SENZING_HYBRID_PASSWORD=changeme

# Option 1: Full Database URL (recommended - overrides all other DB settings)
# Supported formats:
#   SQLite:     sqlite3://na:na@/path/to/database.db
#   PostgreSQL: postgresql://user:password@host:port/database
#   MySQL:      mysql://user:password@host:port/database
# SENZING_DATABASE_URL=sqlite3://na:na@/data/senzing/sqlite/g2.db

# Option 2: Database Components (used if SENZING_DATABASE_URL not set)
# Database Type: sqlite, postgresql, postgres, mysql
SENZING_DB_TYPE=sqlite

# For PostgreSQL or MySQL (ignored for SQLite)
# SENZING_DB_HOST=localhost
# SENZING_DB_PORT=5432  # 5432 for PostgreSQL, 3306 for MySQL
# SENZING_DB_NAME=g2
# SENZING_DB_USER=senzing
# SENZING_DB_PASSWORD=<use SENZING_DB_PASSWORD above>

# -----------------------------------------------------------------------------
# Production Database Examples
# -----------------------------------------------------------------------------

# PostgreSQL Production Example:
# SENZING_DATABASE_URL=postgresql://senzing:strong-password@db.example.com:5432/senzing_prod
# or using components:
# SENZING_DB_TYPE=postgresql
# SENZING_DB_HOST=db.example.com
# SENZING_DB_PORT=5432
# SENZING_DB_NAME=senzing_prod
# SENZING_DB_USER=senzing
# SENZING_DB_PASSWORD=strong-password

# MySQL Production Example:
# SENZING_DATABASE_URL=mysql://senzing:strong-password@db.example.com:3306/senzing_prod

# =============================================================================
# Docker Configuration (when running in containers)
# =============================================================================
# These are typically set automatically by docker-compose
# DOCKER_ENV=true
# When in Docker, paths are container paths:
# SENZING_DATA_DIR=/data/senzing  # Docker volume mount
# SENZING_LICENSE_PATH=/app/secrets/senzing/g2.lic

# =============================================================================
# Batch Processing Configuration (optional)
# =============================================================================
# BATCH_MAX_CONCURRENT_OPERATIONS=3      # Max parallel operations
# BATCH_OPERATION_TIMEOUT=60             # Timeout in seconds
# BATCH_MAX_SCHEMA_FILES=50              # Max schema files in batch
# BATCH_MAX_CONVERSION_FILES=20          # Max files for XML to JSON conversion
# BATCH_MAX_INGEST_FILES=20              # Max files for batch ingest
# MAX_SCHEMA_FILE_SIZE_MB=20             # Max size for schema files in MB

# JSON Validation Settings
# SKIP_JSON_VALIDATION=false             # Set to true to skip JSON schema validation during ingestion

# =============================================================================
# Tool Paths (optional - auto-downloaded if not specified)
# =============================================================================
# CMF_TOOL_PATH=/path/to/cmftool         # NIEM CMF tool path
# SCHEVAL_TOOL_PATH=/path/to/scheval     # Schematron validator path

# =============================================================================
# Development/Debug Settings
# =============================================================================
LOG_LEVEL=INFO
# SENZING_VERBOSE_LOGGING=false

# =============================================================================
# Build Information (automatically set during build)
# =============================================================================
# GIT_COMMIT=
# BUILD_DATE=